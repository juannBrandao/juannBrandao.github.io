(this.webpackJsonpsenfinanca=this.webpackJsonpsenfinanca||[]).push([[0],[,,,,,,,,,,,,,function(t,e,a){},function(t,e,a){},,function(t,e,a){},function(t,e,a){},function(t,e,a){},function(t,e,a){"use strict";a.r(e);var n=a(1),c=a.n(n),i=a(7),r=a.n(i),s=(a(13),a(14),a(2)),o=a(3),l=a(8),d=function(t,e){if("ADD_TRANSACTION"===e.type)return Object(o.a)(Object(o.a)({},t),{},{transactions:[].concat(Object(l.a)(t.transactions),[e.payload])});if("UPDATE_TRANSACTION"===e.type){var a=t.transactions.map((function(t){return t.id===e.payload.id?e.payload:t}));return Object(o.a)(Object(o.a)({},t),{},{transactions:a})}if("REMOVE_TRANSACTION"===e.type){var n=t.transactions.filter((function(t){return t.id!==e.payload}));return Object(o.a)(Object(o.a)({},t),{},{transactions:n})}return"LOAD_TRANSACTIONS"===e.type?Object(o.a)(Object(o.a)({},t),{},{transactions:e.payload}):void 0},u=a(0),j={transactions:[]},b=Object(n.createContext)(Object(o.a)({},j));function O(t){var e=t.children,a=Object(n.useReducer)(d,j),c=Object(s.a)(a,2),i=c[0],r=c[1];return Object(u.jsx)(b.Provider,{value:Object(o.a)({newTransaction:function(t){r({type:"ADD_TRANSACTION",payload:t})},removeTransaction:function(t){r({type:"REMOVE_TRANSACTION",payload:t})},updateTransaction:function(t){r({type:"UPDATE_TRANSACTION",payload:t})},loadTransactions:function(t){r({type:"LOAD_TRANSACTIONS",payload:t})}},i),children:e})}a(16);var h=function(t){var e=Object(n.useState)(0),a=Object(s.a)(e,2),c=a[0],i=a[1],r=Object(n.useState)(""),o=Object(s.a)(r,2),l=o[0],d=o[1],j=Object(n.useState)(),b=Object(s.a)(j,2),O=b[0],h=b[1],v=Object(n.useState)({}),f=Object(s.a)(v,2),m=f[0],p=f[1],x=function(){var t=new Date,e=t.getDate().toString().padStart(2,"0"),a=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getFullYear();return"".concat(e,"/").concat(a,"/").concat(n)},S=function(){i(0),d(""),h(""),p({})};Object(n.useEffect)((function(){null!==t.transaction?(i(t.transaction.type),d(t.transaction.title),h(t.transaction.value),p(t.transaction.category)):S()}),[t.transaction]);return Object(u.jsxs)("form",{id:"form",onSubmit:function(e){e.preventDefault();var a={id:Math.round(1e3*Math.random()),type:c,title:l,date:x(),value:1==c?+Number(O):-Number(O),category:m};""===c||""===l||""===O||m==={}?alert("\xc9 necess\xe1rio preencher todos os campos !"):(t.newTransaction(a),t.setShowModal(!1),S())},children:[Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"text",children:"Titulo da transa\xe7\xe3o"}),Object(u.jsx)("input",{autoFocus:!0,type:"text",id:"text","data-testid":"transaction_title",placeholder:"Titulo da transa\xe7\xe3o",onChange:function(t){return d(t.target.value)},value:l})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"entrada",children:"Tipo de Transa\xe7\xe3o"}),Object(u.jsx)("br",{}),Object(u.jsx)("label",{htmlFor:"entrada",children:"Entrada"}),Object(u.jsx)("input",{type:"radio",name:"type",id:"entrada","data-testid":"transaction_type",onChange:function(t){return i(t.target.value)},value:1,checked:1==c}),Object(u.jsx)("label",{htmlFor:"saida",children:"Saida"}),Object(u.jsx)("input",{type:"radio",name:"type",id:"saida",onChange:function(t){return i(t.target.value)},value:2,checked:2==c})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"amount",children:"Valor \xa0"}),Object(u.jsx)("input",{type:"text",id:"amount","data-testid":"transaction_value",placeholder:"Valor da transa\xe7\xe3o",onChange:function(t){return h(t.target.value)},value:O})]}),Object(u.jsxs)("div",{className:"form-control",children:[Object(u.jsx)("label",{htmlFor:"category",children:"Categoria"}),Object(u.jsxs)("select",{name:"category",id:"category","data-testid":"transaction_category",onChange:function(t){return p({id:t.target.selectedOptions[0].id,value:t.target.selectedOptions[0].value})},value:m.value,children:[Object(u.jsx)("option",{value:""},0),t.categories.map((function(t){return Object(u.jsx)("option",{id:t.id,value:t.value,children:t.value},t.id)}))]})]}),null===t.transaction?Object(u.jsx)("button",{className:"btn",type:"submit","data-testid":"transaction_add",children:"Adicionar"}):Object(u.jsxs)("div",{className:"group-actionButtons",children:[Object(u.jsx)("button",{type:"button",className:"delete-btn","data-testid":"transaction_delete",onClick:function(){return t.removeTransaction(t.transaction.id),void t.setShowModal(!1)},children:"Excluir"}),Object(u.jsx)("button",{type:"button",className:"delete-btn","data-testid":"transaction_update",onClick:function(){return function(){var e={id:t.transaction.id,type:c,title:l,date:x(),value:Number(O),category:m};t.updateTransaction(e),t.setShowModal(!1)}()},children:"Alterar"})]})]})},v=(a(17),function(t){return Object(u.jsx)("div",{className:"modal ".concat(t.show?"show":""),onClick:t.onClose,id:"modalTransaction",children:Object(u.jsxs)("div",{className:"modal-content",onClick:function(t){return t.stopPropagation()},children:[Object(u.jsx)("div",{className:"modal-header",children:Object(u.jsx)("h4",{className:"modal-title",children:"Transa\xe7\xe3o Financeira"})}),Object(u.jsx)("div",{className:"modal-body",children:t.children}),Object(u.jsx)("div",{className:"modal-footer",children:Object(u.jsx)("button",{className:"button","data-testid":"close_modal",onClick:t.onClose,children:"Close"})})]})})});a(18);var f=function(){var t=Object(n.useContext)(b),e=t.loadTransactions,a=t.transactions,c=t.newTransaction,i=t.removeTransaction,r=t.updateTransaction,o=Object(n.useState)(0),l=Object(s.a)(o,2),d=l[0],j=l[1],O=Object(n.useState)(0),f=Object(s.a)(O,2),m=f[0],p=f[1],x=Object(n.useState)(0),S=Object(s.a)(x,2),N=S[0],y=S[1],T=Object(n.useState)(0),g=Object(s.a)(T,2),A=g[0],C=g[1],E=Object(n.useState)(0),R=Object(s.a)(E,2),I=R[0],_=R[1],w=Object(n.useState)([]),D=Object(s.a)(w,2),M=D[0],F=D[1],k=Object(n.useState)(!1),P=Object(s.a)(k,2),J=P[0],L=P[1],U=Object(n.useState)(null),V=Object(s.a)(U,2),G=V[0],$=V[1],B=[{id:1,value:"ALIMENTA\xc7\xc2O"},{id:2,value:"ANIMAL DE ESTIMA\xc7\xc3O"},{id:3,value:"CASA"},{id:4,value:"EDUCA\xc7\xc3O"},{id:5,value:"GASTOS ESPOR\xc1DICOS"},{id:6,value:"GASTOS PESSOAIS"},{id:7,value:"IMPOSTOS"},{id:8,value:"LAZER"},{id:9,value:"OUTROS GASTOS"},{id:10,value:"RECEITA"},{id:11,value:"SA\xdaDE"},{id:12,value:"SEGUROS"},{id:13,value:"SEVI\xc7OS FINANCEIROS"},{id:14,value:"TRANSPORTE"}];Object(n.useEffect)((function(){var t=localStorage.getItem("transactions")?JSON.parse(localStorage.getItem("transactions")):[];localStorage.setItem("categories",JSON.stringify(B)),e(t)}),[]),Object(n.useEffect)((function(){localStorage.setItem("transactions",JSON.stringify(a)),F(a);var t=null===a||void 0===a?void 0:a.map((function(t){return t.value})),e=t.reduce((function(t,e){return t+e}),0).toFixed(2);y(e);var n=t.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0).toFixed(2);j(n);var c=t.filter((function(t){return t<0})).reduce((function(t,e){return t+e}),0).toFixed(2);p(Math.abs(c))}),[a]),Object(n.useEffect)((function(){Y(Number(A),Number(I))}),[A,I]);var Y=function(t,e){var n=[];0===e&&0===t&&(n=a),0===e&&0!==t&&(n=a.filter((function(e){return Number(e.category.id)===t}))),0!==e&&0!==t&&(n=a.filter((function(a){return Number(a.type)===e&&Number(a.category.id)===t}))),0!==e&&0===t&&(n=a.filter((function(t){return Number(t.type)===e}))),F(n)};return Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h4",{children:"Saldo atual"}),Object(u.jsxs)("h1",{id:"balance",className:"balance",children:["R$ ",N]}),Object(u.jsxs)("div",{className:"inc-exp-container",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Receitas"}),Object(u.jsxs)("p",{id:"money-plus",className:"money plus",children:["R$",d]})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("h4",{children:"Despesas"}),Object(u.jsxs)("p",{id:"money-minus",className:"money minus",children:["R$",m]})]})]}),Object(u.jsx)("h3",{children:"Transa\xe7\xf5es"}),Object(u.jsxs)("div",{className:"filters",children:[Object(u.jsx)("span",{children:"Filtrar Por :"}),Object(u.jsxs)("select",{name:"filter",id:"filter","data-testid":"filter_type",onChange:function(t){return _(t.target.value)},children:[Object(u.jsx)("option",{value:0,children:"Todas"}),Object(u.jsx)("option",{value:1,children:"Entrada"}),Object(u.jsx)("option",{value:2,children:"Saida"})]}),Object(u.jsxs)("select",{name:"filter",id:"filter","data-testid":"filter_Category",onChange:function(t){return C(t.target.value)},children:[Object(u.jsx)("option",{value:0,children:"Todas"}),B.map((function(t){return Object(u.jsx)("option",{value:t.id,children:t.value},t.id)}))]})]}),Object(u.jsx)("ul",{id:"transactions",className:"transactions",children:null===M||void 0===M?void 0:M.map((function(t){return Object(u.jsxs)("li",{className:t.value<0?"minus":"plus",onClick:function(){return function(t){$(t),L(!0)}(t)},children:[Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:t.title}),Object(u.jsx)("span",{className:"date",children:t.date})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("span",{children:1===Number(t.type)?"Entrada":"Saida"}),Object(u.jsx)("span",{children:t.category.value})]})]}),Object(u.jsxs)("span",{className:"value",children:[t.value<0?"-":"+"," R$"," ",Math.abs(t.value)]})]},t.id)}))}),Object(u.jsx)(v,{onClose:function(){return L(!1)},show:J,children:Object(u.jsx)(h,{transaction:G,newTransaction:c,removeTransaction:i,setShowModal:L,updateTransaction:r,categories:B})}),Object(u.jsx)("div",{className:"new_transaction",children:Object(u.jsx)("button",{"data-testid":"ButtonNewTransaction",onClick:function(){return $(null),void L(!0)},children:"Nova Transa\xe7\xe3o"})})]})};var m=function(){return Object(u.jsx)(O,{children:Object(u.jsx)(f,{})})};r.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(m,{})}),document.getElementById("root"))}],[[19,1,2]]]);
//# sourceMappingURL=main.b5800397.chunk.js.map